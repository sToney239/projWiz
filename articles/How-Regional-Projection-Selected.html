<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>How Regional Projection Selected ‚Ä¢ projWiz</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="‚Äùimage/svg+xml‚Äù" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How Regional Projection Selected">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">projWiz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/projWiz.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/How-Regional-Projection-Selected.html">How Regional Projection Selected</a></li>
    <li><a class="dropdown-item" href="../articles/world-proj-illustration.html">Which World projection to Select</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sToney239/projWiz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>How Regional Projection Selected</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sToney239/projWiz/blob/master/vignettes/articles/How-Regional-Projection-Selected.Rmd" class="external-link"><code>vignettes/articles/How-Regional-Projection-Selected.Rmd</code></a></small>
      <div class="d-none name"><code>How-Regional-Projection-Selected.Rmd</code></div>
    </div>

    
    
<p>This article explains the procedure for selecting projections
specifically for <code><a href="../reference/proj_region.html">proj_region()</a></code> and other projection
functions used in regional mapping.</p>
<p>A rough overview has already been provided in the <a href="https://stoney239.github.io/projWiz/articles/projWiz.html">Get
started</a>; this article offers a more detailed explanation,
particularly focusing on some problems I met while exploring how to
quickly specify a map projection.</p>
<div class="section level2">
<h2 id="step-0-check-for-exceeding-extent-limits">Step 0: Check for Exceeding Extent Limits<a class="anchor" aria-label="anchor" href="#step-0-check-for-exceeding-extent-limits"></a>
</h2>
<p>This step is called as ‚ÄúStep 0‚Äù because it‚Äôs about whether the input
boundary qualifies as ‚Äúregional.‚Äù If the extent exceeds half of the
Earth, you will receive an error directly, and you should use functions
like <code><a href="../reference/proj_hemisphere.html">proj_hemisphere()</a></code> or <code><a href="../reference/proj_world.html">proj_world()</a></code>.</p>
<p>The actual extent limits for longitude and latitude are set at 160¬∞
and 80¬∞, respectively. This choice is not based on rigid criteria but
rather stems from considerations regarding certain conic projections.
Since projecting over such large extents is uncommon, I set these
thresholds.</p>
<p><img src="images/conicFlaw.jpg"></p>
<blockquote>
<p>Illustration of the extreme conditions that can lead to errors when
the longitude spans too widely. The green area is the area of interest
(Note the flaw in the top center of the map)</p>
</blockquote>
<blockquote>
<p>This flaw may arise from conic projection. Imagine a conic hat placed
on the Earth; if the tangent line has to cover a wide area at higher
latitudes, some regions near the poles may be left untouched by the hat.
If you really want to cover so wide range, please use
<code><a href="../reference/proj_hemisphere.html">proj_hemisphere()</a></code> and set the map limits</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="step-1-check-for-small-map-extent">Step 1: Check for Small Map Extent<a class="anchor" aria-label="anchor" href="#step-1-check-for-small-map-extent"></a>
</h2>
<p>This step is to check the boundary edge lengths in longitudinal and
latitudinal directions using spherical distance. If both lengths &lt;
1000 km, the code will automatically select the corresponding azimuthal
projection based on the property demand:</p>
<ul>
<li>Equal Area: Lambert Azimuthal Equal Area Projection</li>
<li>Conformal: Stereographic Projection</li>
<li>Equidistant: Oblique Azimuthal Equidistant Projection</li>
</ul>
<p>This step (selecting azimuthal projections) is because:</p>
<ul>
<li>I believe if the map extent is not too large, using an azimuthal
projection with the central point as the point of tangency would be
efficient and accurate.</li>
<li>Additionally, I found someone saying that the recommended extent for
Lambert Azimuthal Equal Area Projection is not over thousands of
kilometers.</li>
</ul>
<p><img src="images/azimuthalProj.jpg"></p>
<blockquote>
<p>Hey, how could I be wrong, if I could set the center point so
flexibly, the neighborhood area must have little distortion (pic source:
<a href="https://desktop.arcgis.com/en/arcmap/latest/map/projections/projection-types.htm" class="external-link">ArcMap
Documentation</a>)</p>
</blockquote>
<hr>
<blockquote>
<p>For these azimuthal projections, the longitudinal and latitudinal
parameters (please check <a href="https://stoney239.github.io/projWiz/index.html#what-this-package-is-doing">What
this package is doing</a>) are simply the central longitude and latitude
(That‚Äôs the point of tangency).</p>
</blockquote>
<blockquote>
<p>(You don‚Äôt have to consider this in the package actually, it‚Äôs just
let you have an idea. There will also be explanations for conic and
cylindrical projections for the same purpose in the following part, if
you‚Äôre not interested, just skip them.)</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="step-2-check-for-map-shape">Step 2: Check for Map Shape<a class="anchor" aria-label="anchor" href="#step-2-check-for-map-shape"></a>
</h2>
<p>If the map‚Äôs extent exceeds 1000 km, the code would move on to
checking its shape.</p>
<p>This step involves following tutorials on setting projections:</p>
<ul>
<li>East-west direction (width/height &gt; 5:4): conic projection</li>
<li>North-south direction (width/height &lt; 4:5): cylindrical
projection</li>
<li>Square-shaped maps: azimuthal projection</li>
</ul>
<p>However, these are not strict rules. For conic projections, still
imagine placing a conical hat on the Earth; the cone‚Äôs apex would be at
the pole, and the area near the tangent line would represent the map‚Äôs
focus (Though this is not totally true). This means that the slant of
the cone won‚Äôt effectively cover regions near the equator or poles.
Thus, for lower or higher latitudes, azimuthal projections may be more
appropriate. Similarly for cylindrical projections, in higher latitudes
azimuthal projections would be selected even if it‚Äôs north-south
direction.</p>
<p><img src="images/conicProj.jpg"></p>
<blockquote>
<p>Help you to imagine a conical hat on the earth (pic source: <a href="https://desktop.arcgis.com/en/arcmap/latest/map/projections/projection-types.htm" class="external-link">ArcMap
Documentation</a>)</p>
</blockquote>
<hr>
<p>I want to recommend two conic projections: ‚Äú<strong>Albers Equal
Area</strong>‚Äù (LAEA) and ‚Äú<strong>Lambert Conformal Conic</strong>‚Äù
(LCC). Other projections were not mentioned just because:</p>
<ul>
<li>Azimuthal projections were mentioned in Step 1, and I rarely use
cylindrical projections. When I do use cylindrical projections,
typically specific zones of UTM or Gauss-Kruger rather than
user-specified projections would be used.</li>
<li>Equal area and conformal properties are my primary favorates; I‚Äôm
not sure the utility of the equidistant property. (After all, keeping
the por distance from other points to the center proportionally equal,
doesn‚Äôt seem cool.)</li>
</ul>
<blockquote>
<p>About <strong>conic projections</strong>, specifying them usually
requires two latitude parameters (apart from the longitude parameter of
the central longitude), usually called as <em>standard parallels</em>.
The trick is to set these parallels at <a href="https://api.semanticscholar.org/CorpusID:203636100" class="external-link">1/6 and
5/6</a> of the latitudinal extent.</p>
</blockquote>
<blockquote>
<p>As for <strong>cylindrical projections</strong>, they typically only
require the central longitude as the longitudinal parameter and do not
need a latitudinal parameter (If it‚Äôs not an oblique cylindrical
projection, which I‚Äôm not quite familiar withüòî).</p>
</blockquote>
<blockquote>
<p>About this step, I have some concerns: if conic projections require
two latitude parameters, it suggests that they attempt to find a plane
that intersects the surface of the sphere. This might mean the
<strong>total distortion</strong> would be less than that of azimuthal
projections, which are based solely on a tangent point. Would it be
better to prioritize conic projections for maps with a large extent? I‚Äôm
unsure how sensible this thinking is, so I didn‚Äôt include it in the
package.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="step-3-other-projection-suggestions">Step 3: Other Projection Suggestions<a class="anchor" aria-label="anchor" href="#step-3-other-projection-suggestions"></a>
</h2>
<p>Actually, this step was not in my plan when starting this package,
but I found it relatively easy to implement (but met problems of the
irregular grid of the UTM zones üò´).</p>
<p>This step is about calculating the zone number for UTM or
Gauss-Kruger projections. (Please note that these are all conformal
projections.) It would be a good point as suggestions since these
projections are often with something like <a href="https://en.wikipedia.org/wiki/EPSG_Geodetic_Parameter_Dataset" class="external-link">EPSG
codes</a> and easy to share.</p>
<p>For the Gauss-Kruger projection, determining the zone is as simple as
dividing by 3 or 6 and applying some offsets.</p>
<p>But about the UTM zone, I wasn‚Äôt aware that UTM has some irregular
zones at first, possibly in certain European peninsulas. To address
this, I added a shapefile of the UTM zones and used
<code><a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html" class="external-link">sf::st_within()</a></code> to check if the input object is entirely
within a UTM zone.</p>
<p><img src="images/irregularGrid.jpg"></p>
<blockquote>
<p>Irregular grid of UTM Zone</p>
</blockquote>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhaoyang Shi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
