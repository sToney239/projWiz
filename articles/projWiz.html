<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to projWiz • projWiz</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to projWiz">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">projWiz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/projWiz.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sToney239/projWiz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to projWiz</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sToney239/projWiz/blob/master/vignettes/projWiz.Rmd" class="external-link"><code>vignettes/projWiz.Rmd</code></a></small>
      <div class="d-none name"><code>projWiz.Rmd</code></div>
    </div>

    
    
<blockquote>
<p>This is a package inspired by <a href="https://projectionwizard.org/" class="external-link">Projection Wizard</a>, aiming to
help automatically decide projective coordinate system based on R
geospatial objects.</p>
</blockquote>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sToney239/projWiz" class="external-link">projWiz</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="regional-map">Regional map<a class="anchor" aria-label="anchor" href="#regional-map"></a>
</h2>
<p>The main purpose of <code>projWiz</code> is for manually specifying
regional map projection. There is a function called
<code><a href="../reference/proj_region.html">proj_region()</a></code>, along with simplified versions like
<code><a href="../reference/proj_equal_area.html">proj_equal_area()</a></code>, <code><a href="../reference/proj_conformal.html">proj_conformal()</a></code>, and
<code><a href="../reference/proj_equidistant.html">proj_equidistant()</a></code>, corresponding to the map projection
properties of preserving <strong>area</strong>, <strong>shape</strong>,
and <strong>distance</strong>. For some basic knowledge on these
properties, you can refer check <a href="https://en.wikipedia.org/wiki/Map_projection#Metric_properties_of_maps" class="external-link">map
projection wiki</a></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">quick_proj_region_map</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">proj_type</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">the_proj</span> <span class="op">=</span> <span class="fu"><a href="../reference/proj_region.html">proj_region</a></span><span class="op">(</span><span class="fu">spData</span><span class="fu">::</span><span class="va"><a href="https://jakubnowosad.com/spData/reference/us_states.html" class="external-link">us_states</a></span>, property <span class="op">=</span> <span class="va">proj_type</span><span class="op">)</span></span>
<span>  <span class="fu">spData</span><span class="fu">::</span><span class="va"><a href="https://jakubnowosad.com/spData/reference/us_states.html" class="external-link">us_states</a></span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">the_proj</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="va">proj_type</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">patchwork</span><span class="fu">::</span><span class="fu"><a href="https://patchwork.data-imaginist.com/reference/wrap_plots.html" class="external-link">wrap_plots</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">quick_proj_region_map</span><span class="op">(</span><span class="st">"Equalarea"</span><span class="op">)</span>,</span>
<span>       <span class="fu">quick_proj_region_map</span><span class="op">(</span><span class="st">"Conformal"</span><span class="op">)</span>,</span>
<span>       <span class="fu">quick_proj_region_map</span><span class="op">(</span><span class="st">"Equidistant"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="projWiz_files/figure-html/unnamed-chunk-2-1.png" width="672"></p>
<p>It’s hard to find any difference, right? Haha, that’s basically what
I found when making this package – in not quite large scale, projections
with similar optimized parameters have little difference.</p>
<p>As mentioned, <code><a href="../reference/proj_equal_area.html">proj_equal_area()</a></code> is a pre-set parameter
version of <code><a href="../reference/proj_region.html">proj_region()</a></code>. For example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/proj_region.html">proj_region</a></span><span class="op">(</span><span class="fu">spData</span><span class="fu">::</span><span class="va"><a href="https://jakubnowosad.com/spData/reference/hawaii.html" class="external-link">hawaii</a></span>,<span class="st">"Equalarea"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "+proj=laea +lon_0=-157.6784675 +lat_0=20.5786295 +datum=WGS84 +units=m +no_defs"</span></span>
<span><span class="fu"><a href="../reference/proj_equal_area.html">proj_equal_area</a></span><span class="op">(</span><span class="fu">spData</span><span class="fu">::</span><span class="va"><a href="https://jakubnowosad.com/spData/reference/hawaii.html" class="external-link">hawaii</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "+proj=laea +lon_0=-157.6784675 +lat_0=20.5786295 +datum=WGS84 +units=m +no_defs"</span></span></code></pre></div>
<p>They will generate the same result.</p>
<p>If you run these codes on your computer, you will receive a message
indicating that “the region is quite small”, actually region with such
small areas using azimuthal projections would just have good
performance. You manually specify the projection with
<code><a href="../reference/proj_specify.html">proj_specify()</a></code> function, using projections like <a href="https://proj.org/en/stable/operations/projections/laea.html" class="external-link">Lambert
Azimuthal Equal Area</a>(“laea”):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/proj_specify.html">proj_specify</a></span><span class="op">(</span><span class="fu">spData</span><span class="fu">::</span><span class="va"><a href="https://jakubnowosad.com/spData/reference/hawaii.html" class="external-link">hawaii</a></span>, <span class="st">"laea"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "+proj=laea +lon_0=-69767.246859 +lat_0=839846.2794754 +datum=WGS84 +units=m +no_defs"</span></span></code></pre></div>
<p>Note that the <code><a href="../reference/proj_specify.html">proj_specify()</a></code> function is primarily
intended for regional data. For hemisphere or world data, you should use
<code><a href="../reference/proj_hemisphere.html">proj_hemisphere()</a></code> or <code><a href="../reference/proj_world.html">proj_world()</a></code> to specify
the projection.</p>
</div>
<div class="section level2">
<h2 id="hemisphere-map">Hemisphere map<a class="anchor" aria-label="anchor" href="#hemisphere-map"></a>
</h2>
<p>For hemisphere maps, you can use <code><a href="../reference/proj_hemisphere.html">proj_hemisphere()</a></code> with
the central point’s longitude and latitude, or provide an object that
allows the function to calculate the centroid.</p>
<p>There are three main types of projections for hemisphere maps in
<code>projWiz</code>: “Equalarea” (which is Equal area), “Conformal” and
“Ortho” as showed below:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">quick_hemisphere_map</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">proj_type</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">the_proj</span> <span class="op">=</span> <span class="fu"><a href="../reference/proj_hemisphere.html">proj_hemisphere</a></span><span class="op">(</span>obj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">113</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">37</span><span class="op">)</span>, property <span class="op">=</span> <span class="va">proj_type</span><span class="op">)</span></span>
<span>  <span class="fu">rnaturalearth</span><span class="fu">::</span><span class="va"><a href="https://docs.ropensci.org/rnaturalearth/reference/countries.html" class="external-link">countries110</a></span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">the_proj</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="va">proj_type</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">patchwork</span><span class="fu">::</span><span class="fu"><a href="https://patchwork.data-imaginist.com/reference/wrap_plots.html" class="external-link">wrap_plots</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">quick_hemisphere_map</span><span class="op">(</span><span class="st">"Equalarea"</span><span class="op">)</span>,</span>
<span>       <span class="fu">quick_hemisphere_map</span><span class="op">(</span><span class="st">"Conformal"</span><span class="op">)</span>,</span>
<span>       <span class="fu">quick_hemisphere_map</span><span class="op">(</span><span class="st">"Ortho"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="projWiz_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
</div>
<div class="section level2">
<h2 id="world-map">World map<a class="anchor" aria-label="anchor" href="#world-map"></a>
</h2>
<p>For world map projections, the primary tasks are selecting a
projection and setting the central longitude.</p>
<p>About projection selection, the <code>projWiz</code> package contains
popular world map projections stored in a list object called
<code>world_proj_list</code>. By utilizing the auto-complete feature in
RStudio or other mainstream IDEs (by typing <code>$</code> after the
list name and pressing the <code>Tab</code> key), you can easily access
these projections.</p>
<p>The categories within <code>world_proj_list</code> are divided into
two: <code>equal_area</code> and <code>compromise</code>. If you’re
interested in projections with <code>Conformal</code> properties, you
could also check the compromise category. After selecting the category
using <code>$</code> and <code>Tab</code>, you will see more detailed
projection properties to choose from. It’s advisable to have some basic
understanding of these projections, and you can refer to resources like
<a href="https://doi.org/10.1007/978-3-319-51835-0_9" class="external-link">A Guide to
Selecting Map Projections for World and Hemisphere Maps</a>.</p>
<p>Once you have made your selection, you can use
<code><a href="../reference/proj_world.html">proj_world()</a></code> to generate your desired world map.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">central_longitude</span> <span class="op">=</span> <span class="op">-</span><span class="fl">60</span></span>
<span><span class="va">selected_world_proj_type</span> <span class="op">=</span> <span class="va">world_proj_list</span><span class="op">$</span><span class="va">compromise</span><span class="op">$</span><span class="va">round_boudnary</span><span class="op">$</span><span class="va">Natural_Earth</span></span>
<span><span class="va">new_world_proj</span> <span class="op">=</span> <span class="fu"><a href="../reference/proj_world.html">proj_world</a></span><span class="op">(</span><span class="va">selected_world_proj_type</span>, <span class="va">central_longitude</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rnaturalearth</span><span class="fu">::</span><span class="va"><a href="https://docs.ropensci.org/rnaturalearth/reference/countries.html" class="external-link">countries110</a></span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_break_antimeridian.html" class="external-link">st_break_antimeridian</a></span><span class="op">(</span><span class="va">central_longitude</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">new_world_proj</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">central_longitude</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="projWiz_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
</div>
<div class="section level2">
<h2 id="message-explaination-of-proj_region">Message Explaination of <code>proj_region()</code><a class="anchor" aria-label="anchor" href="#message-explaination-of-proj_region"></a>
</h2>
<p>When running the <code><a href="../reference/proj_region.html">proj_region()</a></code> or
<code><a href="../reference/proj_equal_area.html">proj_equal_area()</a></code> or related functions, there will be some
messages on the console, which will tell you why the projection is
selected.</p>
<p>The messages typically include the following steps:</p>
<ul>
<li>“Longitude or latitude range exceeds limits”
<ul>
<li>This error message appears if the longitude exceeds 160 degrees or
the latitude exceeds 80 degrees.</li>
<li>There is no strong reason for these limits; they were set to avoid
projecting maps of areas larger than a hemisphere, which may lead to
errors. Additionally, projecting regions over such a wide range would be
abnormal; if you insist doing so, you could use
<code><a href="../reference/proj_hemisphere.html">proj_hemisphere()</a></code>.</li>
<li>The reason for not using 180 degree and 90 degree is just to leave
some space and reduce the risk of errors.</li>
</ul>
</li>
<li>“The map extent is not/too quite large”
<ul>
<li>If the longest edge of the extent is less than 1000 km, the function
will always select an azimuthal projection.</li>
<li>If the longest edge exceeds 1000 km, the function will proceed to
the following checks.</li>
</ul>
</li>
<li>“North-south extent,” “East-west extent,” and “Square-shaped extent”
<ul>
<li>“North-south extent” often results in cylindrical projections, such
as the Mercator.</li>
<li>“East-west extent” generally leads to conic projections.</li>
<li>“Square-shaped extent” usually results in azimuthal
projections.</li>
</ul>
</li>
<li>“Close to poles,” “Close to equator,” and “Mid-latitude away from
pole and equator”
<ul>
<li>If the region is near the equator or poles, the central latitude is
set to the equator or the poles. This approach helps orient the reader
to these reference points in large extent maps.</li>
</ul>
</li>
<li>For conformal projections, some time you may see the zone number
recommendation of <strong>UTM</strong> or <strong>Gauss-Kruger</strong>
projection, you could look it in websites like <a href="https://epsg.io/" class="external-link">epsg.io</a> with the parameter in the message.
<ul>
<li>If you just want to check the zone number of you area of interest,
you could use functions like <code><a href="../reference/check_utm_zone.html">check_utm_zone()</a></code>,
<code><a href="../reference/check_gauss_kruger_3_deg.html">check_gauss_kruger_3_deg()</a></code> or
<code><a href="../reference/check_gauss_kruger_6_deg.html">check_gauss_kruger_6_deg()</a></code>
</li>
</ul>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhaoyang Shi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
